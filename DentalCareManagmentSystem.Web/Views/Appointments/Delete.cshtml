@model DentalCareManagmentSystem.Application.DTOs.AppointmentDto

@{
    ViewData["Title"] = "Delete Appointment";
}

<div class="container mt-5">
    <!-- 🔹 العنوان -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold text-danger">
            <i class="fas fa-trash-alt me-2"></i> Delete Appointment
        </h2>
        <a asp-action="Index" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-1"></i> Back to List
        </a>
    </div>

    <!-- 🔹 تنبيه الخطر -->
    <div class="alert alert-danger d-flex align-items-center" role="alert">
        <i class="fas fa-exclamation-triangle fa-lg me-2"></i>
        <div>
            Are you sure you want to delete this appointment?
            <strong>This action cannot be undone.</strong>
        </div>
    </div>

    <div class="card shadow-sm mb-4 border-0">
        <div class="card-header bg-light fw-semibold">
            <i class="fas fa-calendar-check me-2 text-primary"></i> Appointment Details
        </div>
        <div class="card-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <h5 class="text-primary mb-3"><i class="fas fa-user me-1"></i> Patient Information</h5>
                    <p class="mb-2"><strong>Name:</strong> @Model.PatientName</p>
                    <p class="mb-2"><strong>Phone:</strong> @Model.PatientPhone</p>
                </div>

                <div class="col-md-6">
                    <h5 class="text-primary mb-3"><i class="fas fa-calendar-alt me-1"></i> Appointment Info</h5>
                    <p class="mb-2"><strong>Date:</strong> @Model.Date.ToString("dddd, MMMM dd, yyyy")</p>
                    <p class="mb-2">
                        <strong>Time:</strong>
                        @(Model.StartTime.ToString(@"hh\:mm")) - @(Model.EndTime.ToString(@"hh\:mm"))
                    </p>
                    <p class="mb-0">
                        <strong>Status:</strong>
                        @{
                            var badgeClass = Model.Status switch
                            {
                                "Completed" => "bg-success",
                                "Cancelled" => "bg-danger",
                                _ => "bg-warning text-dark"
                            };
                        }
                        <span class="badge @badgeClass">@Model.Status</span>
                    </p>
                </div>
            </div>

            @if (!string.IsNullOrEmpty(Model.Notes))
            {
                <hr class="my-4" />
                <h5 class="text-primary"><i class="fas fa-sticky-note me-1"></i> Notes</h5>
                <p>@Model.Notes</p>
            }
        </div>
    </div>

    <div class="d-flex justify-content-end gap-2">
        <form asp-action="Delete" method="post">
            <input type="hidden" asp-for="Id" />
            <button type="submit" class="btn btn-danger px-4">
                <i class="fas fa-trash me-1"></i> Confirm Delete
            </button>
        </form>
        <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-outline-secondary px-4">
            <i class="fas fa-times me-1"></i> Cancel
        </a>
    </div>
</div>
